!function(t,e){function i(t,e,i,l){t[n](o+e,"wheel"==s?i:function(t){!t&&(t=a.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail/3,i(e)},l||!1)}var n,s,o="";t.addEventListener?n="addEventListener":(n="attachEvent",o="on"),s="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",t.addWheelListener=function(t,e,n){i(t,s,e,n),"DOMMouseScroll"==s&&i(t,"MozMousePixelScroll",e,n)}}(window,document),function(t,e,i,n){"use strict";function s(n,s){this.$elem=t(n),this.options=t.extend({bgClass:"parallax-bg",wheelIgnoreClass:[],items:[],baseElement:e,windowHeight:Math.max(i.documentElement.clientHeight,e.innerHeight||0),r:0,u:0,v:0,s:!1,F:!1},s),this._handleScrollBound=this._handleScroll.bind(this),this._handleWheelBound=this._handleWheel.bind(this),this._handleResizeBound=this._handleResize.bind(this),this._init()}var o="plugin_parallax";t.extend(s.prototype,{_init:function(){this.options.windowHeight=Math.max(i.documentElement.clientHeight,e.innerHeight||0),this.profileParallaxElements(),this._attachEvents(),this.d()},_attachEvents:function(){this.options.baseElement.addEventListener("scroll",this._handleScrollBound,!1),e.addEventListener("wheel",this._handleWheelBound,!1),e.addEventListener("resize",this._handleResizeBound,!1)},_detachEvents:function(){this.options.baseElement.removeEventListener("scroll",this._handleScrollBound,!1),e.removeEventListener("wheel",this._handleWheelBound,!1),e.removeEventListener("resize",this._handleResizeBound,!1)},_handleScroll:function(t){this.options.F=!0},_handleWheel:function(e){if(this.options.wheelIgnoreClass&&this.options.wheelIgnoreClass.length>0&&t(e.target).closest("."+this.options.wheelIgnoreClass.join(", .")).length>0)return null;e.preventDefault&&e.preventDefault(),this.options.v=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,this.options.v=-2>this.options.v?-2:this.options.v,this.options.v=this.options.v>2?2:this.options.v,this.options.s=!0,this.options.u=4},_handleResize:function(){this.options.windowHeight=Math.max(i.documentElement.clientHeight,e.innerHeight||0),this.options.r=this.b(),this.profileParallaxElements()},profileParallaxElements:function(){var e=this.$elem,i=this;this.options.items=[],this.options.r=this.b(),e.find("."+this.options.bgClass).each(function(){var n=e,s=n.offset().top,o=i.getHeight(n);o&&i.setHeight(n,o),i.options.items.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:s,elemBottom:s+n.outerHeight(),isFirstSection:!1,imageHolder:this}),i.mr_setTranslate3DTransform(t(this).get(0),(i.f()+i.options.windowHeight-s)/2)})},setHeight:function(e,i){t(e).find("."+this.options.bgClass).css({height:100*i+"vh"})},getHeight:function(e){var i=t(e),n=t(this.options.baseElement).height(),s=i.height(),o=s/n;return s>n?o:null},getTransformStyle:function(t){for(var e=0;e<t.length;e++)if(void 0!==i.body.style[t[e]])return t[e];return null},getScrollingState:function(){return this.options.u>0},getCurrentElement:function(t){for(var e=0,i=this.options.items.length;this.options.items[e]&&this.options.items[e].section!==t;e++);return e===i?-1:e},isFunction:function(t){var e={};return t&&"[object Function]"===e.toString.call(t)},requestAnimationFrame:function(t){return(this.options.baseElement.requestAnimationFrame||this.options.baseElement.mozRequestAnimationFrame||this.options.baseElement.webkitRequestAnimationFrame||this.options.baseElement.msRequestAnimationFrame)(t)},mr_setTranslate3DTransform:function(t,e){var i=this.getTransformStyle(["transform","msTransform","webkitTransform","mozTransform","oTransform"]);t.style[i]="translate3d(0,"+e+"px,0)"},refresh:function(t){this.profileParallaxElements()},destroy:function(t){this._detachEvents(),this.$elem.removeData(o),this.$elem.find("."+this.options.bgClass).css({height:"",transform:""})},e:function(t,e){this.isVariant()?e+this.options.windowHeight-this.options.r>t.elemTop&&e-this.options.r<t.elemBottom&&(t.isFirstSection?this.mr_setTranslate3DTransform(t.imageHolder,e/2):this.mr_setTranslate3DTransform(t.imageHolder,e-t.elemTop-this.options.r)):e+this.options.windowHeight>t.elemTop&&e<t.elemBottom&&(t.isFirstSection?this.mr_setTranslate3DTransform(t.imageHolder,e/2):this.mr_setTranslate3DTransform(t.imageHolder,(e+this.options.windowHeight-t.elemTop)/2))},c:function(t,e,i,n){var s=t-1;return s/=n,t/=n,s--,t--,i*(t*t*t*t*t+1)+e-(i*(s*s*s*s*s+1)+e)},d:function(){var t=0;if(this.options.F){for(var e=this.options.items.length,i=this.f();e--;)this.e(this.options.items[e],i);this.options.F=!1}this.options.s&&(((t+=-this.options.v*this.c(this.options.u,0,300,30))>1||-1>t)&&(this.options.baseElement.scrollBy(0,t),t=0),this.options.u++,this.options.u>30&&(this.options.u=0,this.options.s=!1,this.options.v=0,t=0)),this.requestAnimationFrame.call(this,this.d.bind(this))},isVariant:function(){return!1},b:function(){return t(this.options.baseElement).outerHeight(!0)},f:function(){return this.options.baseElement!=e?this.options.baseElement.scrollTop:0===i.documentElement.scrollTop?i.body.scrollTop:i.documentElement.scrollTop}}),t.fn.parallax=function(e){if(void 0===e||"object"==typeof e)return this.each(function(){t.data(this,o)||t.data(this,o,new s(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t.data(this,o);n instanceof s&&"function"==typeof n[e]&&n[e].apply(n,i)})}}}(jQuery,window,document);